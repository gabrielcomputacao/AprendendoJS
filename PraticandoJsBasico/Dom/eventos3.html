<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event 3</title>
    <style>
        .item{
            border: solid 5px black;
            background-color: darkgray;
            color: white;
            height: 100px;
            font-size: 40px;
            margin: 10px;
            text-align: center;
            vertical-align: middle;
        }
        .direita{
            width: 50%;
            background-color:cadetblue;
            height: 450px;
            float: right;
        }
        .esquerda{
            width: 50%;
            background-color: coral;
            display: inline-block;
            height: 450px;
        }
        #ap{
            display: inline;
        }
        #oi{
            display: inline;
        }
    </style>
</head>
<body>
    <div class="esquerda" wp-dropzone>
        <div class="item">1</div>
        <div class="item">2</div>
        <div class="item">3</div>
        <div class="item">4</div>
    </div>

    <div class="direita" wp-dropzone>
    </div>

    <script>
        const itens = document.querySelectorAll('[wp-dropzone] .item')
        itens.forEach((item,index) =>{
            item.draggable = true /* propriedade que faz um item poder ser arrastado */
            /* se o id nao estiver setado colocar um id para o item,logo a baixo */
            item.id = item.id || `draggable-item-${index}`
            item.ondragstart = (e) =>{
                e.dataTransfer.setData('item-id',e.target.id)
            }
            /* Explicando começando de ondragstart
                ondragstart - começar a arrastar o item
                ele vai setar o evento de tranferencia dataTransfer
                setando(mudando) para o item-id, pegando o id do item que ele esta arrastando
             */
        })

        const dropzones = document.querySelectorAll('[wp-dropzone]')
        dropzones.forEach((dropzone)=>{
            dropzone.ondragover = e => e.preventDefault()/* tira o comportamento padrao , pois se nao, nao teria
            como chamar a proxima funcao evento que e quando se solta o componente */

            dropzone.ondrop = function(e){
                const id = e.dataTransfer.getData('item-id')/* pegando o id setado na hora de clicar para
                arrastar */
                const item = document.getElementById(id)
                e.target.appendChild(item) /* onde eu soltei o mouse e o target e esta adicionando o
                filho nele, o filho que vem do id do elemento que eu estou arrastando */
            }
        })

    </script>
</body>
</html>